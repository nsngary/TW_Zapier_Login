@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    /* 字體配置 */
    --font-sans: 'Noto Sans TC', 'Inter', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --font-display: 'Noto Sans TC', 'Inter', ui-sans-serif, system-ui, sans-serif;

    /* 主色調 */
    --color-primary-50: #fbfaf8;
    --color-primary-100: #ece9df;
    --color-primary-200: #ddd4ca;
    --color-primary-300: #c7b8a8;
    --color-primary-400: #b09a85;
    --color-primary-500: #86735E;
    --color-primary-600: #7a6654;
    --color-primary-700: #665548;
    --color-primary-800: #54463d;
    --color-primary-900: #463a33;

    /* 輔助色調 */
    --color-accent-red: #C2474A;
    --color-accent-orange: #C07F56;
    --color-accent-crimson: #C23928;
    --color-accent-tan: #D19872;
    --color-accent-pink: #EC7687;
    --color-accent-brown: #662D10;
    --color-accent-olive: #644F29;
    --color-accent-gray: #6C604D;
    --color-accent-amber: #A86F4B;
    --color-accent-ball: #bd743a;

    /* 中性色 */
    --color-neutral-50: #fbfaf8;
    --color-neutral-100: #f5f5f4;
    --color-neutral-200: #e7e5e4;
    --color-neutral-300: #d6d3d1;
    --color-neutral-400: #a8a29e;
    --color-neutral-500: #78716c;
    --color-neutral-600: #57534e;
    --color-neutral-700: #44403c;
    --color-neutral-800: #292524;
    --color-neutral-900: #1c1917;

    /* HeaderNavigation 特定顏色 */
    --color-header-bg: #fbfaf8;
    --color-header-border: #ece9df;
    --color-header-text-primary: #201515;
    --color-header-text-secondary: #413735;
    --color-header-text-muted: #574e4c;
    --color-header-text-disabled: #6f6765;
    --color-header-link-hover: #503ebd;
    --color-header-link-focus: #695be8;
    --color-header-button-bg: #ece9df;
    --color-header-button-hover: #f5f3eb;
    --color-header-dropdown-bg: #fffdf9;
    --color-header-dropdown-overlay: #2015151a;
    --color-header-dropdown-indicator: #b09a85;

    /* 動畫持續時間 */
    --duration-250: 250ms;

    /* Outline offset */
    --outline-offset-0\.5: 0.125rem;

    /* 斷點配置 */
    --breakpoint-xs: 475px;
    --breakpoint-desktop: 1071px;
}

/* Header Navigation 自訂樣式 */
@layer components {
  /* 基礎樣式 */
  .nav-link {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.625rem 0.5rem;
    font-size: 0.875rem;
    color: var(--color-header-text-secondary);
    border-radius: 0.25rem;
    text-decoration: none;
    outline: none;
  }

  .nav-link:hover,
  .nav-link:focus-visible {
    background-color: var(--color-header-button-hover);
  }

  .nav-link:focus-visible {
    outline: 2px solid var(--color-header-link-focus);
    outline-offset: 0.125rem;
  }

  /* 在中等螢幕隱藏文字，只顯示圖示 */
  @media (min-width: 1071px) and (max-width: 1280px) {
    .nav-link > :nth-child(2) {
      display: none;
    }
  }

  /* 按鈕樣式 */
  .btn-primary {
    height: 2.25rem;
    padding: 0 0.75rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-primary-500);
    color: white;
    font-weight: 600;
    font-size: 0.875rem;
    text-decoration: none;
    border-radius: 18px;
    box-sizing: border-box;
    transition: background-color 250ms;
  }

  .btn-primary:hover {
    background-color: var(--color-accent-amber);
  }

  .auth-button > a[data-size="large"] {
    height: 2.75rem;
    border-radius: 22px;
  }

  /* 下拉選單基礎樣式 */
  .dropdown-summary {
    display: flex;
    position: relative;
    align-items: center;
    padding: 0.625rem 0.5rem 0.625rem 0.625rem;
    font-size: 0.875rem;
    color: var(--color-header-text-secondary);
    border-radius: 0.25rem;
    list-style: none;
    cursor: pointer;
    outline: none;
  }

  .dropdown-summary:hover,
  .dropdown-summary:focus-visible {
    background-color: var(--color-header-button-hover);
  }

  .dropdown-summary::-webkit-details-marker {
    display: none;
  }

  /* 底部指示線動畫 */
  .dropdown-summary::after {
    content: "";
    height: 0.25rem;
    background-color: var(--color-header-dropdown-indicator);
    width: 0;
    position: absolute;
    left: 0;
    bottom: -0.625rem;
    transition: all 250ms ease-in-out;
  }

  .dropdown-container[open] .dropdown-summary::after {
    width: 100%;
  }

  /* 箭頭旋轉動畫 */
  .dropdown-indicator {
    display: flex;
    margin-left: 0.25rem;
    transition: transform 250ms ease-in-out;
  }

  .dropdown-container[open] .dropdown-indicator {
    transform: rotate(180deg);
  }

  /* 下拉選單面板樣式 */
  .dropdown-panel {
    position: absolute;
    top: 3.5rem; /* 56px */
    left: 0;
    width: 100%;
    display: grid;
    grid-template-columns: auto 1fr;
    background-color: var(--color-header-dropdown-bg, #fffdf9);
    border-bottom: 1px solid var(--color-header-border);
    align-content: around;
    justify-content: center;
    z-index: 50;
  }

  .dropdown-container[open] .dropdown-panel::after {
    content: "";
    position: fixed;
    left: 0;
    right: 0;
    height: 100vh;
    background-color: var(--color-header-dropdown-overlay, rgba(32, 21, 21, 0.1));
    z-index: -10;
    pointer-events: none;
  }

  .dropdown-main {
    width: 100%;
    min-width: 50vw;
  }

  .dropdown-main:only-child {
    grid-column: span 2;
  }

  .dropdown-content {
    padding: 2rem 2.5rem;
    box-sizing: border-box;
  }

  @media (min-width: 1280px) {
    .dropdown-content {
      padding: 2rem 4rem 2rem 10rem;
    }
  }

  .dropdown-aside {
    min-width: 16rem;
    padding: 2rem 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 3rem;
    background-color: var(--color-neutral-50);
  }

  @media (min-width: 1280px) {
    .dropdown-aside {
      padding: 2rem 2.5rem;
    }
  }

  .dropdown-header {
    max-width: 32rem;
    margin-bottom: 2.5rem;
  }

  .dropdown-heading {
    font-size: 1.875rem;
    font-weight: 600;
    line-height: 1;
    letter-spacing: 0.025em;
    color: var(--color-header-text-primary, #201515);
  }

  .dropdown-description {
    font-size: 0.875rem;
    line-height: 1;
    color: var(--color-header-text-secondary, #413735);
    margin-top: 0.5rem;
  }

  .dropdown-sections {
    display: flex;
    gap: 4.5rem;
    justify-content: auto;
  }

  .dropdown-footer {
    padding: 1.25rem 2.5rem;
    border-top: 1px solid var(--color-header-border);
  }

  @media (min-width: 1280px) {
    .dropdown-footer {
      padding-left: 10rem;
    }
  }

  .footer-list {
    list-style: none;
    display: flex;
    gap: 2rem;
  }

  .footer-link {
    display: flex;
    gap: 0.375rem;
    font-size: 0.8125rem;
    font-weight: 500;
    line-height: 1;
    text-decoration: none;
    color: var(--color-header-text-primary, #201515);
  }

  .footer-link:hover {
    color: var(--color-accent-amber, #a86f4b);
  }

  .footer-link:focus-visible {
    outline: 2px solid var(--color-header-link-focus, #695be8);
    outline-offset: 0.25rem;
  }

  /* 區段樣式 */
  .section-heading,
  .aside-heading {
    font-size: 0.875rem;
    font-weight: 600;
    line-height: 1;
    letter-spacing: 0.025em;
    text-transform: uppercase;
    color: var(--color-header-text-disabled, #6f6765);
    margin-bottom: 1rem;
  }

  .aside-heading {
    font-size: 1.875rem;
    letter-spacing: 0.025em;
    color: var(--color-header-text-primary, #201515);
    margin-bottom: 1.5rem;
    text-transform: none;
  }

  .section-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    list-style: none;
  }

  .section-item {
    display: flex;
  }

  .section-link {
    width: fit-content;
    max-width: 24rem;
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    text-decoration: none;
    color: var(--color-header-text-primary, #201515);
  }

  .section-link:focus-visible {
    outline: 2px solid var(--color-header-link-focus, #695be8);
    outline-offset: 0.25rem;
  }

  .section-icon {
    display: flex;
    color: var(--color-header-text-primary, #201515);
    padding: 0.625rem;
    border-radius: 0.5rem;
    background-color: var(--color-neutral-50);
  }

  .section-icon[class*="bg-orange"] {
    background-color: var(--color-orange-50);
  }

  .section-icon[class*="bg-purple"] {
    background-color: var(--color-purple-50);
  }

  .section-item:not(:last-child) .section-icon {
    margin-bottom: 0.5rem;
  }

  .section-label {
    display: flex;
    gap: 0.375rem;
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.25;
  }

  .section-link:hover .section-label {
    color: var(--color-accent-amber, #a86f4b);
  }

  .section-desc {
    font-size: 0.8125rem;
    line-height: 1.25;
    color: var(--color-header-text-muted, #574e4c);
    margin-top: 0.25rem;
  }

  .section-link:hover .section-desc {
    text-decoration: underline;
  }

  .section-item:not(:last-child) .section-desc {
    margin-bottom: 0.5rem;
  }

  .beta-tag {
    height: auto;
    padding: 0 0.25rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8125rem;
    font-weight: 500;
    line-height: 1.25;
    text-align: center;
    color: var(--color-header-text-disabled, #6f6765);
    border: 1px solid var(--color-neutral-400);
    border-radius: 0.125rem;
  }

  /* 手機版導航樣式 */
  .mobile-nav-summary {
    display: flex;
    padding: 0.375rem;
    margin-left: 0.25rem;
    color: var(--color-header-text-secondary, #413735);
    border-radius: 18px;
    list-style: none;
    cursor: pointer;
    background-color: var(--color-header-button-bg, #ece9df);
  }

  .mobile-nav-summary:hover {
    color: var(--color-header-text-primary, #201515);
  }

  .mobile-nav-summary:focus-visible {
    outline: 2px solid var(--color-header-link-focus, #695be8);
    outline-offset: 0.125rem;
  }

  .mobile-nav-summary::-webkit-details-marker {
    display: none;
  }

  .mobile-nav-open {
    display: flex;
  }

  .mobile-nav-root[open] .mobile-nav-open,
  .mobile-nav-close {
    display: none;
  }

  .mobile-nav-root[open] .mobile-nav-close {
    display: flex;
  }

  .mobile-nav-panel {
    position: fixed;
    top: 3.5rem;
    right: 0;
    width: 100%;
    height: calc(100vh - 3.5rem);
    background-color: var(--color-header-bg, #fbfaf8);
    border-left: 1px solid var(--color-header-border);
    display: flex;
    flex-direction: column;
    transform: translateX(100%);
    transition: transform 0.3s ease-in-out;
  }

  .mobile-nav-root[open] .mobile-nav-panel {
    transform: translateX(0);
  }

  .mobile-nav-content {
    flex: 1;
    overflow-y: auto;
    padding: 1.5rem 1rem;
  }

  .mobile-nav-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .mobile-nav-link {
    display: block;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    font-weight: 500;
    color: var(--color-header-text-primary, #201515);
    text-decoration: none;
    border-radius: 0.5rem;
  }

  .mobile-nav-link:hover,
  .mobile-nav-link:focus-visible {
    background-color: var(--color-header-button-hover, #f5f3eb);
  }

  .mobile-nav-link:focus-visible {
    outline: 2px solid var(--color-header-link-focus, #695be8);
    outline-offset: 0.25rem;
  }

  .mobile-dropdown-summary {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    font-weight: 500;
    color: var(--color-header-text-primary, #201515);
    border-radius: 0.5rem;
    cursor: pointer;
    list-style: none;
  }

  .mobile-dropdown-summary:hover,
  .mobile-dropdown-summary:focus-visible {
    background-color: var(--color-header-button-hover, #f5f3eb);
  }

  .mobile-dropdown-summary::-webkit-details-marker {
    display: none;
  }

  .mobile-dropdown-indicator {
    display: flex;
    transition: transform 250ms ease-in-out;
  }

  .mobile-dropdown[open] .mobile-dropdown-indicator {
    transform: rotate(180deg);
  }

  .mobile-dropdown-content {
    margin-top: 0.5rem;
    margin-left: 1rem;
    border-left: 2px solid var(--color-header-border);
    padding-left: 1rem;
  }

  .mobile-section-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .mobile-section-link {
    display: block;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    color: var(--color-header-text-secondary, #413735);
    text-decoration: none;
    border-radius: 0.25rem;
  }

  .mobile-section-link:hover,
  .mobile-section-link:focus-visible {
    background-color: var(--color-header-button-hover, #f5f3eb);
    color: var(--color-header-text-primary, #201515);
  }

  .mobile-section-link:focus-visible {
    outline: 2px solid var(--color-header-link-focus, #695be8);
    outline-offset: 0.25rem;
  }

  .mobile-nav-footer {
    border-top: 1px solid var(--color-header-border);
    padding: 1rem;
  }

  .mobile-auth-links {
    display: flex;
    gap: 0.75rem;
  }

  .mobile-auth-link {
    flex: 1;
    padding: 0.75rem 1rem;
    text-align: center;
    font-size: 1rem;
    font-weight: 500;
    color: var(--color-header-text-primary, #201515);
    text-decoration: none;
    border-radius: 0.5rem;
    border: 1px solid var(--color-header-border);
  }

  .mobile-auth-link:hover,
  .mobile-auth-link:focus-visible {
    background-color: var(--color-header-button-hover, #f5f3eb);
  }

  .mobile-auth-link:focus-visible {
    outline: 2px solid var(--color-header-link-focus, #695be8);
    outline-offset: 0.25rem;
  }

  .mobile-auth-button {
    flex: 1;
    padding: 0.75rem 1rem;
    text-align: center;
    font-size: 1rem;
    font-weight: 600;
    color: white;
    text-decoration: none;
    border-radius: 0.5rem;
    background-color: var(--color-primary-500);
  }

  .mobile-auth-button:hover,
  .mobile-auth-button:focus-visible {
    background-color: var(--color-accent-amber, #a86f4b);
  }

  .mobile-auth-button:focus-visible {
    outline: 2px solid var(--color-header-link-focus, #695be8);
    outline-offset: 0.25rem;
  }
}
